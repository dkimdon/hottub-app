#!/usr/bin/env ruby

require 'bwa/client'
require 'bwa/discovery'

if ARGV.empty?
  spas = BWA::Discovery.discover
  if spas.empty?
    $stderr.puts "Could not find spa!"
    exit 1
  end
  spa_ip = spas.first.first
else
  spa_ip = ARGV[0]
end

spa = BWA::Client.new(spa_ip)

spa.toggle_heating_mode()
spa.toggle_temperature_range()
#spa.set_temperature(106)


